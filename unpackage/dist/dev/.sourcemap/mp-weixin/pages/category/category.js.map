{"version":3,"sources":["uni-app:///main.js","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?0bbe","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?b795","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?a795","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?c27f","uni-app:///pages/category/category.vue","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?b9d7","webpack:///D:/CodeModule/项目/统计/program_uni/pages/category/category.vue?53ae"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","navList","goodsList","id","currentCategory","name","front_name","scrollLeft","scrollTop","scrollHeight","page","size","iindex","iitem","list_pic_url","retail_price","onLoad","that","uni","success","onReady","onShow","console","onHide","onUnload","methods","getCategoryInfo","util","currentIndex","getGoodsList","categoryId","switchCate"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAonB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmCxoB,WAAW,mBAAO,CAAC,6BAAqB;AACxC,UAAU,mBAAO,CAAC,6BAAqB;AAAvC,eACA;EACAC;IACA;MACA;MACAC;MAEAC;MACAC;MAEAC;QACAC;QACAC;MACA;MAEAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;QACAV;QACAW;QACAT;QACAU;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;MACAC;QACAd;MACA;IACA;IACAe;MACAC;QACAF;UACAR;QACA;MACA;IACA;IACA;EACA;EACAW;IACA;EAAA,CACA;EACAC;IACA;IACAC;EACA;EACAC;IACA;EAAA,CACA;EACAC;IACA;EAAA,CACA;EACAC;IACAC;MACA;MACAC;QACAxB;MACA;QACA;UACAc;YACAhB;YACAG;UACA;;UAEA;UACA;UACA;UACA;YACAwB;YACA;cACA;YACA;UACA;UACA;YACAX;cACAV;YACA;UACA;UACAU;QACA;UACA;QAAA;MAEA;IACA;IAEAY;MACA;MACAF;QACAG;QACApB;QACAC;MACA;QACAM;UACAf;QACA;MACA;IACA;IAEA6B;MACA;QACA;MACA;MACA;MACA;MACA;MACA;QACAd;UACAV;QACA;MACA;QACAU;UACAV;QACA;MACA;MACA;QACAJ;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpKA;AAAA;AAAA;AAAA;AAA64B,CAAgB,u2BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/category/category.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/category/category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./category.vue?vue&type=template&id=682a9774&\"\nvar renderjs\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./category.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/category/category.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=template&id=682a9774&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"container\">\n        <view class=\"cate-nav\">\n            <scroll-view :scroll-x=\"true\" class=\"cate-nav-body\" style=\"width: 750rpx\" :scroll-left=\"scrollLeft\">\n                <view :class=\"'item ' + (id == item.id ? 'active' : '')\" :data-id=\"item.id\" :data-index=\"index\" @tap=\"switchCate\" v-for=\"(item, index) in navList\" :key=\"index\">\n                    <view class=\"name\">{{ item.name }}</view>\n                </view>\n            </scroll-view>\n        </view>\n        <scroll-view :scroll-y=\"true\" :scroll-top=\"scrollTop\" :style=\"'height:' + scrollHeight + ';'\">\n            <view class=\"cate-item\">\n                <view class=\"h\">\n                    <text class=\"name\">{{ currentCategory.name }}</text>\n                    <text class=\"desc\">{{ currentCategory.front_name }}</text>\n                </view>\n                <view class=\"b\">\n                    <navigator\n                        :class=\"'item ' + ((iindex + 1) % 2 == 0 ? 'item-b' : '')\"\n                        :url=\"'/pages/goods/goods?id=' + iitem.id\"\n                        v-for=\"(iitem, iindex) in goodsList\"\n                        :key=\"iindex\"\n                    >\n                        <image class=\"img\" :src=\"iitem.list_pic_url\" background-size=\"cover\"></image>\n\n                        <text class=\"name\">{{ iitem.name }}</text>\n\n                        <text class=\"price\">￥{{ iitem.retail_price }}</text>\n                    </navigator>\n                </view>\n            </view>\n        </scroll-view>\n    </view>\n</template>\n\n<script>\nvar util = require('../../utils/util.js');\nvar api = require('../../config/api.js');\nexport default {\n    data() {\n        return {\n            // text:\"这是一个页面\"\n            navList: [],\n\n            goodsList: [],\n            id: 0,\n\n            currentCategory: {\n                name: '',\n                front_name: ''\n            },\n\n            scrollLeft: 0,\n            scrollTop: 0,\n            scrollHeight: 0,\n            page: 1,\n            size: 10000,\n            iindex: 0,\n\n            iitem: {\n                id: '',\n                list_pic_url: '',\n                name: '',\n                retail_price: ''\n            }\n        };\n    },\n    onLoad: function (options) {\n        // 页面初始化 options为页面跳转所带来的参数\n        var that = this;\n        if (options.id) {\n            that.setData({\n                id: parseInt(options.id)\n            });\n        }\n        uni.getSystemInfo({\n            success: function (res) {\n                that.setData({\n                    scrollHeight: res.windowHeight\n                });\n            }\n        });\n        this.getCategoryInfo();\n    },\n    onReady: function () {\n        // 页面渲染完成\n    },\n    onShow: function () {\n        // 页面显示\n        console.log(1);\n    },\n    onHide: function () {\n        // 页面隐藏\n    },\n    onUnload: function () {\n        // 页面关闭\n    },\n    methods: {\n        getCategoryInfo: function () {\n            let that = this;\n            util.request(api.GoodsCategory, {\n                id: this.id\n            }).then(function (res) {\n                if (res.errno == 0) {\n                    that.setData({\n                        navList: res.data.brotherCategory,\n                        currentCategory: res.data.currentCategory\n                    });\n\n                    //nav位置\n                    let currentIndex = 0;\n                    let navListCount = that.navList.length;\n                    for (let i = 0; i < navListCount; i++) {\n                        currentIndex += 1;\n                        if (that.navList[i].id == that.id) {\n                            break;\n                        }\n                    }\n                    if (currentIndex > navListCount / 2 && navListCount > 5) {\n                        that.setData({\n                            scrollLeft: currentIndex * 60\n                        });\n                    }\n                    that.getGoodsList();\n                } else {\n                    //显示错误信息\n                }\n            });\n        },\n\n        getGoodsList: function () {\n            var that = this;\n            util.request(api.GoodsList, {\n                categoryId: that.id,\n                page: that.page,\n                size: that.size\n            }).then(function (res) {\n                that.setData({\n                    goodsList: res.data.goodsList\n                });\n            });\n        },\n\n        switchCate: function (event) {\n            if (this.id == event.currentTarget.dataset.id) {\n                return false;\n            }\n            var that = this;\n            var clientX = event.detail.x;\n            var currentTarget = event.currentTarget;\n            if (clientX < 60) {\n                that.setData({\n                    scrollLeft: currentTarget.offsetLeft - 60\n                });\n            } else if (clientX > 330) {\n                that.setData({\n                    scrollLeft: currentTarget.offsetLeft\n                });\n            }\n            this.setData({\n                id: event.currentTarget.dataset.id\n            });\n            this.getCategoryInfo();\n        }\n    }\n};\n</script>\n<style>\n.container {\n    background: #f9f9f9;\n}\n.cate-nav {\n    position: fixed;\n    left: 0;\n    top: 0;\n    z-index: 1000;\n}\n\n.cate-nav-body {\n    height: 84rpx;\n    white-space: nowrap;\n    background: #fff;\n    border-top: 1px solid rgba(0, 0, 0, 0.15);\n    overflow: hidden;\n}\n\n.cate-nav .item {\n    display: inline-block;\n    height: 84rpx;\n    min-width: 130rpx;\n    padding: 0 15rpx;\n}\n\n.cate-nav .item .name {\n    display: block;\n    height: 84rpx;\n    padding: 0 20rpx;\n    line-height: 84rpx;\n    color: #333;\n    font-size: 30rpx;\n    width: auto;\n}\n\n.cate-nav .item.active .name {\n    color: #ab2b2b;\n    border-bottom: 2px solid #ab2b2b;\n}\n\n.cate-item {\n    margin-top: 94rpx;\n    height: auto;\n    overflow: hidden;\n}\n\n.cate-item .h {\n    height: 145rpx;\n    width: 750rpx;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}\n\n.cate-item .h .name {\n    display: block;\n    height: 35rpx;\n    margin-bottom: 18rpx;\n    font-size: 30rpx;\n    color: #333;\n}\n\n.cate-item .h .desc {\n    display: block;\n    height: 24rpx;\n    font-size: 24rpx;\n    color: #999;\n}\n\n.cate-item .b {\n    width: 750rpx;\n    padding: 0 6.25rpx;\n    height: auto;\n    overflow: hidden;\n}\n\n.cate-item .b .item {\n    float: left;\n    background: #fff;\n    width: 365rpx;\n    margin-bottom: 6.25rpx;\n    padding-bottom: 33.333rpx;\n    height: auto;\n    overflow: hidden;\n    text-align: center;\n}\n\n.cate-item .b .item-b {\n    margin-left: 6.25rpx;\n}\n\n.cate-item .item .img {\n    width: 302rpx;\n    height: 302rpx;\n}\n\n.cate-item .item .name {\n    display: block;\n    width: 365.625rpx;\n    height: 35rpx;\n    margin: 11.5rpx 0 22rpx 0;\n    text-align: center;\n    overflow: hidden;\n    padding: 0 20rpx;\n    font-size: 30rpx;\n    color: #333;\n}\n\n.cate-item .item .price {\n    display: block;\n    width: 365.625rpx;\n    height: 30rpx;\n    text-align: center;\n    font-size: 30rpx;\n    color: #b4282d;\n}\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./category.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1726905997306\n      var cssReload = require(\"D:/CodeModule/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}